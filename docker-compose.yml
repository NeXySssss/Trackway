services:
  trackway:
    build: .
    image: trackway:latest
    container_name: trackway
    restart: unless-stopped
    user: "0:0"
    read_only: true
    tmpfs:
      - /tmp
    environment:
      CONFIG_PATH: /app/config.yaml
      LOG_DIR: /data/logs
    ports:
      - "8080:8080"
    volumes:
      - ./config.yaml:/app/config.yaml:ro
      - trackway-data:/data/logs

volumes:
  trackway-data:
